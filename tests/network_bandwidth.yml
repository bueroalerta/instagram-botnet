name:                           test_complex
version:                        1
mode:                           distributed



bots:
    -
        username:               ***REMOVED***
        password:               ***REMOVED***
        cookie:                 tests/_cookies/***REMOVED***_cookie.json
        cache:                  tests/cache.db
        logs:                   tests/logs.html

max_per_day:
        likes:                  50
        follow:                 20
        unfollow:               10

delay:
        like:                   10
        usual:                  2

filter:
    user:
        is_private:             x == False
        # is_business:          x

    #
    # media:
    #     likes:                x < 200
    #     comments:             x < 100
    #     caption:              any(s not in x for s in ['porn', 'sex'])
    #
    # hashtag:
    #     name:                 not in [porn, sex]
    #
    # geotag:
    #     name:                 not in {{ cities }}
    #     lat:                  x < 1000 and x > 500
    #     lng:                  x < 1000 and x > 500

actions:
    # -
    #     name:                   follow and like rappers fans
    #     nodes:
    #         - izimusic
    #         - therealgue
    #     edges:
    #         - followers
    #         - filter:
    #             user:
    #                 is_private:  x == False
    #         - follow:
    #             amount:         2
    #         - user_feed
    #         - like:
    #             amount:         2
    -
        name:  repost some memes
        nodes:
            - dankmemes
            - memes
        edges:
            - user_feed
            - filter:
                media:
                    likes: x > 200
            - shuffle:
                amount: 20
            - upload:
                caption:  "#meme"
