

version:                                        1
mode:                                           distributed

use_cache:                                      ./cache.json


bots:
  - username:                                   {{ username }}
    password:                                   {{ password }}

filter:
  nodes:
    Media:
      likers:                                     'x > 50 || x < 2000'
    User:
      following:
        amount:                                   'x < 2000 & x > 60'
      followers:
        amount:                                   'x < 2000 & x > 60'
  edges:
    hashtag_feed:                                 'x != 34563'

execute:

  - set:
      external.url:                             url
      phone.amount:                             {{ bot.phone }}
      username:                                 username
      full.name:                                first.name
      biography:                                biography
      email:                                    email
      gender:                                   gender

  - like:
      from_nodes:                               [user1, user2, ***REMOVED***, ***REMOVED***]
      via_edges:
          - user_followers:                     20
          - user_feed:                          4


  - comment:
      from_nodes:                               [user1, user2, ***REMOVED***, ***REMOVED***]
      via_edges:
          - followers:                          20
          - feed:                               4
      texts:
        - [heyyyy, i heard you vip now]
        - [you konw what gonna happen?, gonna fuck ur mom ]


  # like one photo from the feed of every user
  - like:
      from_nodes:                               [user1, user2, user3]
      via_edges:
        - feed:                                 1


  # the simplest, like some images
  - like:
      nodes:                                    [media1, media2, media3]






  - send:
      from_nodes:                               [hashtag1, hashtag4, pizza]
      via_edges:
          - users:                              [user2, user5]
          - feed:
              where:                            { feed_media_amount: 'x < 3000'} # only edges with some property
              take:                             1
          - likers:                             20 # send messages to 20 likers of every photo
      to_nodes:                                 { where: { id: 'x == 23430 || x > 30234'} } # only nodes with some property
      messages:                                 # list of lists
        -
          - image:                              url
          - link:                               url
          - text:                               do you like?
          - text:                               answer if you like
        -
          - image:                              url
          - location:                           latlong
          - profile:                            user
          - photo:                              url
          - like:
          - hashtag:                            tag
          - reaction:                           type
        -
          - text:                               heyyy scrivo solo una cazzata



  - send:
      from_nodes:                               {{ users_to_message }}
      via_edges:
          - hashtag_feed:                       1
          - likers:                             20
      messages:                                 {{ messages }}







  - comment:
      text:                                     [ciaooo, heyyy]
      on:
  - report:
      amount:                                   345
      medias:
        hashtags.feed:                          [tag1, tag2]
        users.feed:                             [user1, user2]
        users.followers.feed:                   [user1, user2]
        users.following.feed:                   [user1, user2]
        geotags.feed:                           [geotag1, geotag2]
        medias.geotag.feed:                     [media1, media2]


  - follow:
      amount:                                   456
      users:

  - send:
      messages:
      # the array is partitioned in groups of messages,
      # if mode = unison EVERY BOT sends a rondom chosen group of messages to EVERY USER
      # while if mode = distributed EVERY USER receives a random messages group from a random bot
        -
          - image:                              url
          - link:                               url
          - text:                               do you like?
          - text:                               answer if you like
        -
          - image:                              url
          - location:                           latlong
          - profile:                            user
          - photo:                              url
          - like:
          - hashtag:                            tag
          - reaction:                           type


      to:

  - block:
      users:

        [Edge.Edge ...]:                        [Node]

        followers:                              [user]
        following:                              [user]
        user_feed.authors:                      [user1, user2]
        user_feed.likers:                       [user1, user2]
        user_feed.commenters:                   [user1, user2]

        geotag_feed.authors:                    [geotag1, geotag2]
        geotag_feed.likers:                     [geotag1, geotag2]
        geotag_feed.commenters:                 [geotag1, geotag2]


        hashtag_feed.author:                    [tag1, tag2]
        hashtag_feed.likers:                    [tag1, tag2]
        hashtag_feed.commenters:                [tag1, tag2]

        usertags:                               [media1, media2]
        commenters:                             [media1, media2]
        geotag_feed.likers.followers.following: []







  - comment:
      users:                                    [remors.es]
      texts:                                    [heyyy]
  - comment:
      hashtags:                                 []
      texts:                                    [heyyy]
  - comment:
      url:                                      https://instagram.com/user/photo
      texts:                                    [ciaooo]




  - upload:
      images:                                   [https://media-db/id666sJs98]
      captions:                                 [heyy new photo]




  - download:
      to:                                       https://media-db/new/
      urls:                                     [instagram.com/sdfggsdg]
  - download:
      to:                                       https://media-db/new/
      hashtags:                                 []
      amount:                                   15
      type:                                     [video photo story]
  - download:
      to:                                       https://media-db/new/
      users:                                    [remorses]
      amount:                                   30
      type:                                     [video, photo, story]
  - download:
      to:                                       https://media-db/new/
      geotags:                                  []
      amount:                                   90
      type:                                     [video ,photo, story]



  - message:
      users:                                    [remorses]
      messages:                                 [ciao]
      replies:                                  https://spam-bot/random
  - message:
      users:                                    [remorses]
      messages:                                 [ciao come va?, numero uno!]
      replies:                                  https://spam-bot/friendly



  - message:
      texts:                                    [gg]
      users:
        - commenting:
            users:                              []
            amount:                             80
        - followed:
            users:                              [vip]
            amount:                             30
  - message:
      texts:                                    [caio seguimi]
      amount:                                   600
      users:
        - following:
            users:                              [me]
            distribute:                         .6
        - liking:
            users:                              [remorses]
            hashtags:                           [travel]
            distribute:                         .4

  - return:
      followers: { as: 'odhl.followers', user:  'odhl',  }
      following: { user:                        'dsf' }
      feed: { as: chiavari.medias, geotag: 'chiavari', amount: 300 }

  - return:
      followers:
        of:                                     {{ target.id }}
        as:                                     '{{ target }}.followers'

  - return:
      as:                                       followers
      query:                                    |
        followers(user:                         $user) {
          id
        }
      variables:
        user:                                   {{  user  }}




  - return:
      users:
        geotags:                                []
        amount:                                 40
